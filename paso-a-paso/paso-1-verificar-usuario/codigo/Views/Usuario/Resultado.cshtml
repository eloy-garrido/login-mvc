@model VerificarUsuario.Models.VerificarUsuarioViewModel

@{
    ViewData["Title"] = "Resultado de Verificaci√≥n";
}

<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-8">
            
            <!-- Header con t√≠tulo principal -->
            <div class="text-center mb-4">
                <h1 class="display-4">üìã Resultado</h1>
                <h2 class="h3 text-muted">Verificaci√≥n de Usuario</h2>
            </div>

            <!-- Tarjeta principal con el resultado -->
            <div class="card shadow">
                <div class="card-header @(Model.UsuarioEncontrado ? "bg-success" : "bg-danger") text-white">
                    <h3 class="text-center mb-0">
                        @if (Model.UsuarioEncontrado)
                        {
                            <span>‚úÖ Usuario Encontrado</span>
                        }
                        else
                        {
                            <span>‚ùå Usuario No Existe</span>
                        }
                    </h3>
                </div>
                <div class="card-body text-center">
                    
                    <!-- Mensaje principal -->
                    <div class="alert @(Model.UsuarioEncontrado ? "alert-success" : "alert-warning")" role="alert">
                        <h4 class="alert-heading">@Model.Mensaje</h4>
                        <hr>
                        <p class="mb-0">
                            @if (Model.UsuarioEncontrado)
                            {
                                <span>El usuario <strong>@Model.Username</strong> est√° registrado en el sistema.</span>
                            }
                            else
                            {
                                <span>El usuario <strong>@Model.Username</strong> no se encuentra en la base de datos.</span>
                            }
                        </p>
                    </div>

                    <!-- Informaci√≥n t√©cnica -->
                    <div class="mb-4">
                        <h5>üìä Detalles de la Consulta:</h5>
                        <div class="row">
                            <div class="col-sm-6">
                                <p><strong>Usuario buscado:</strong> <code>@Model.Username</code></p>
                            </div>
                            <div class="col-sm-6">
                                <p><strong>Estado:</strong> 
                                    <span class="badge @(Model.UsuarioEncontrado ? "bg-success" : "bg-secondary")">
                                        @(Model.UsuarioEncontrado ? "Encontrado" : "No encontrado")
                                    </span>
                                </p>
                            </div>
                        </div>
                        <p><strong>Fecha y Hora:</strong> @DateTime.Now.ToString("dd/MM/yyyy HH:mm:ss")</p>
                    </div>

                    <!-- Acciones disponibles -->
                    <div class="d-flex justify-content-center gap-3 flex-wrap">
                        <a asp-action="Verificar" class="btn btn-primary">
                            üîç Verificar Otro Usuario
                        </a>
                        <button type="button" class="btn btn-outline-secondary" onclick="window.location.reload()">
                            üîÑ Recargar P√°gina
                        </button>
                    </div>
                </div>
            </div>

            <!-- Lo que has logrado -->
            <div class="card mt-4">
                <div class="card-body">
                    <h5 class="card-title">üéâ ¬°Excelente! ¬øQu√© Has Logrado?</h5>
                    <div class="row">
                        <div class="col-md-6">
                            <h6>üõ†Ô∏è T√©cnico:</h6>
                            <ul class="list-unstyled">
                                <li>‚úÖ Proyecto ASP.NET Core MVC</li>
                                <li>‚úÖ Conexi√≥n exitosa con Supabase</li>
                                <li>‚úÖ HttpClient configurado correctamente</li>
                                <li>‚úÖ Formularios con validaci√≥n</li>
                                <li>‚úÖ Modelos y ViewModels</li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <h6>üìö Conceptos:</h6>
                            <ul class="list-unstyled">
                                <li>‚úÖ Patr√≥n MVC</li>
                                <li>‚úÖ API REST consumption</li>
                                <li>‚úÖ JSON serialization</li>
                                <li>‚úÖ Data Annotations</li>
                                <li>‚úÖ TempData y redirecciones</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Siguiente paso -->
            <div class="card mt-4 border-info">
                <div class="card-body">
                    <h5 class="card-title text-info">üöÄ ¬øQu√© Sigue?</h5>
                    <p class="card-text">
                        En el <strong>Paso 2</strong> vamos a agregar:
                    </p>
                    <ul>
                        <li>üîê Campo de contrase√±a al formulario</li>
                        <li>üìù Modificar tabla para incluir passwords</li>
                        <li>‚úÖ Validar username + password juntos</li>
                        <li>üéØ Crear un verdadero "login" simple</li>
                    </ul>
                    <div class="text-center mt-3">
                        <span class="badge bg-info">Pr√≥ximamente: Paso 2 - Login Simple</span>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>

<!-- Script opcional para celebrar el √©xito -->
@if (Model.UsuarioEncontrado)
{
    <script>
        // Peque√±a celebraci√≥n visual si el usuario fue encontrado
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(function() {
                if (confirm('üéâ ¬°Usuario encontrado! ¬øQuieres probar con otro usuario?')) {
                    window.location.href = '@Url.Action("Verificar")';
                }
            }, 2000);
        });
    </script>
}
